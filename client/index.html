<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Todo Watch Movie</title>
    <style>
      .full-screen {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
      }
      .btn-hapus {
        position: absolute;
        bottom: 0;
        margin-bottom: 16px;
      }
      .styled-email {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        border-bottom: 0;
        outline: none;
      }
      .styled-password {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }
    </style>
  </head>
  <body class="bg-light">
    <div class="container full-screen">

      <div id="login-container" style="height: 100%;">
        <div
          class="d-flex justify-content-center align-items-center"
          style="height: 100%"
        >
          <div class="card">
            <div class="card-body">
              <h4 class="text-center mb-3">Movie Todo</h4>
              <form>
                <div class="form-label-group">
                  <input
                    type="email"
                    id="email-login"
                    class="form-control styled-email"
                    placeholder="Email address"
                    required
                    autofocus
                  />
                </div>

                <div class="form-label-group">
                  <input
                    type="password"
                    id="password-login"
                    class="form-control styled-password"
                    placeholder="Password"
                    required
                  />
                </div>
                <div class="text-center" style="margin-top: 20px">
                  <button
                    class="btn btn-primary btn-block text-uppercase"
                    type="submit"
                    id="btn-login"
                  >
                    Login
                  </button>
                </div>
                <p class="text-center" style="margin: 0; margin-top: 10px">
                  don't have an account? <a href="#" id="register">register</a>
                </p>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div id="register-container" style="height: 100%;">
        <div
          class="d-flex justify-content-center align-items-center"
          style="height: 100%"
        >
          <div class="card">
            <div class="card-body">
              <h4 class="text-center mb-3">Movie Todo</h4>
              <form>
                <div class="form-label-group">
                  <input
                    type="email"
                    id="email-register"
                    class="form-control styled-email"
                    placeholder="Email address"
                    required
                    autofocus
                  />
                </div>

                <div class="form-label-group">
                  <input
                    type="password"
                    id="password-register"
                    class="form-control styled-password"
                    placeholder="Password"
                    required
                  />
                </div>
                <div class="text-center" style="margin-top: 20px">
                  <button
                    class="btn btn-primary btn-block text-uppercase"
                    type="submit"
                    id="btn-register"
                  >
                    Register
                  </button>
                </div>
                <p class="text-center" style="margin: 0; margin-top: 10px">
                  already have an account? <a href="#" id="login">login</a>
                </p>
              </form>
            </div>
          </div>
        </div>
      </div>

      <h1
        class="text-dark text-center"
        id="page-title"
        style="margin-top: 20px"
      >
        Todo Watch Movie
      </h1>
      <div id="list-todo">
        <div class="text-center" style="margin-bottom: 20px">
          <button type="button" class="btn btn-success">Add Todo</button>
        </div>
        <div class="card">
          <div class="d-flex">
            <img
              src="https://www.themoviedb.org/t/p/w220_and_h330_face/e6SK2CAbO3ENy52UTzP3lv32peC.jpg"
              width="auto"
              height="200px"
              class="card-img-top"
              style="width: auto"
            />
            <div class="card-body">
              <h3>Outside the Wire</h3>
              <p style="margin: 0">
                In the near future, a drone pilot is sent into a deadly
                militarized zone and must work with an android officer to locate
                a doomsday device.
              </p>
              <p>Due Date : 5 Februari 2021 13:00</p>
              <div class="btn-hapus">
                <button type="button" class="btn btn-info">Done</button>
                <button type="button" class="btn btn-danger">Delete</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="add-container">
        <div class="card">
          <h3 class="text-dark text-center" style="margin-top: 20px">
            Add Todo
          </h3>
          <div class="card-body">
            <ul class="nav nav-tabs">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  id="manual-menu"
                  aria-current="page"
                  href="#"
                  >Manual</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" id="search-menu" href="#">Search</a>
              </li>
            </ul>
            <div
              style="border: 1px solid #dee2e6; border-top: 0; padding: 20px"
            >
              <div id="tab1">
                <form>
                  <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input
                      type="text"
                      placeholder="type title of movie..."
                      class="form-control"
                      id="title"
                      aria-describedby="title"
                    />
                  </div>
                  <div class="mb-3">
                    <label for="description" class="form-label"
                      >Description</label
                    >
                    <input
                      type="text"
                      placeholder="type description..."
                      class="form-control"
                      id="description"
                      aria-describedby="description"
                    />
                  </div>
                  <div class="mb-3 col-3">
                    <label for="due_date" class="form-label">Due Date</label>
                    <input
                      type="date"
                      class="form-control"
                      id="due_date"
                      aria-describedby="due_date"
                    />
                  </div>
                  <button type="submit" class="btn btn-success">Add</button>
                </form>
              </div>
              <div id="tab2">
                <form>
                  <div class="mb-3 col-3">
                    <label for="due_date" class="form-label">Due Date</label>
                    <input
                      type="date"
                      class="form-control"
                      id="due_date"
                      aria-describedby="due_date"
                    />
                  </div>
                  <button type="submit" class="btn btn-success">Add</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->
    <script>
      $(document).ready(() => {
        $("#page-title").hide();
        $("#list-todo").hide();
        $("#add-container").hide();

        // login
        $("#btn-login").on("click", e => {
          e.preventDefault()
          const email = $("#email-login").val()
          const password = $("#password-login").val()

          $.ajax({
            method: "POST",
            url: "http://localhost:3001/login",
            data: {
              email, password
            }
          })
          .done( res => {
            console.log(res);
          })
          .fail( err => {
            console.log('error => ',err);
          })
        })

        // register
        $("#btn-register").on("click", e => {
          e.preventDefault()
          const email = $("#email-register").val()
          const password = $("#password-register").val()

          $.ajax({
            method: "POST",
            url: "http://localhost:3001/register",
            data: {
              email, password
            }
          })
          .done( res => {
            console.log(res);
          })
          .fail( err => {
            console.log('error => ',err);
          })
        })
        
        // login & register route
        $("#register").on("click", (e) => {
          e.preventDefault()
          $("#login-container").hide();
          $("#register-container").show();
        })
        $("#login").on("click", (e) => {
          e.preventDefault()
          $("#login-container").show();
          $("#register-container").hide();
        })

        // menu tab controller
        $("#search-menu").on("click", () => {
          $("#manual-menu").removeClass("active");
          $("#search-menu").addClass("active");
          $("#tab1").hide();
          $("#tab2").show();
        });
        $("#manual-menu").on("click", () => {
          $("#manual-menu").addClass("active");
          $("#search-menu").removeClass("active");
          $("#tab1").show();
          $("#tab2").hide();
        });
      });
    </script>
  </body>
</html>
